# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Guardian AI is an AI agent security monitoring system that provides real-time monitoring, behavioral analysis, and security for AI agent workforces. This is a TypeScript library distributed as an npm package.

## Development Commands

```bash
# Build the project
npm run build

# Run tests
npm test

# Run linter
npm run lint
```

## Project Structure

This is a TypeScript library project that compiles to `dist/` for distribution:
- `src/` - TypeScript source files (to be created)
- `dist/` - Compiled JavaScript output (generated by build)
- Entry point: `dist/index.js` with types at `dist/index.d.ts`

## Architecture Notes

This is an early-stage project. The core functionality will involve:
- Real-time monitoring of AI agents
- Behavioral analysis capabilities
- Security controls for AI agent workforces

When implementing features, ensure TypeScript compilation with `tsc` produces proper type definitions for library consumers.

## Recent Updates (v0.3.0 - 2025-11-20)

### Simplified tap() API

The library now provides two APIs for stream tapping:

1. **`tap()` - Simplified convenience function** (Recommended for most use cases)
   - Auto-detects stream types (Response, Node.js streams, Web ReadableStreams)
   - Defaults to gzip compression
   - Usage: `tap(stream)` or `tap(stream, apiKeyOrOptions)`

2. **`tapStream()` - Full control API** (For advanced use cases)
   - Requires explicit stream conversion via adapters
   - All options explicitly specified
   - Usage: `tapStream(webStream, options)`

When suggesting implementations, prefer the simplified `tap()` API unless users need fine-grained control over stream handling.
